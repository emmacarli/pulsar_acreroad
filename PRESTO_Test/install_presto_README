Author: Emma Carli 2019
Sources:
https://blog.csdn.net/sinat_34850075/article/details/52434526
https://github.com/scottransom/presto/blob/master/INSTALL
https://docs.google.com/document/d/1v8Dm4f-SOeDQX5Yli6syek1pxtqgpw81b1cxqoqv2aU
http://zhaozhen.me/2017/10/16/ubuntu-software-presto.html



What I've run on my Ubuntu 18.04 64 bit to install PRESTO, for use in _Python_:

	sudo apt-get update

	cd ~
	mkdir PULSAR_SOFTWARES
I know this is a spelling mistake I will never get rid of... RIP.

	sudo apt-get install git libfftw3-bin libfftw3-dbg libfftw3-dev libfftw3-doc libfftw3-double3 libfftw3-long3 libfftw3-quad3 libfftw3-single3 pgplot5 csh automake gfortran libglib2.0-dev libccfits-dev libcfitsio5 libcfitsio-dev libx11-dev libpng-dev 

	cd PULSAR_SOFTWARES/


	git clone http://git.code.sf.net/p/tempo/tempo

	cd tempo
	./prepare
	./configure
	make && sudo make install
	cp tempo.cfg src/
	cp tempo.hlp src/
	cd ..

	git clone http://github.com/scottransom/presto.git





	sudo gedit /etc/environment

added to the end of my PATH:
	:/home/emma/PULSAR_SOFTWARES/presto/bin"

then added:
	TEMPO="/home/emma/PULSAR_SOFTWARES/tempo/src"

	PRESTO="/home/emma/PULSAR_SOFTWARES/presto"

	PGPLOT_DIR="/usr/lib/pgplot5"

	FFTW_PATH="/usr"

	LD_LIBRARY_PATH="/home/emma/PULSAR_SOFTWARES/presto/lib"







	git clone https://github.com/scottransom/pyslalib.git
	cd pyslalib
	python setup.py install


	cd /home/emma/PULSAR_SOFTWARES/presto/src


	make makewisdom
	make prep
	make
	make clean


	cd $PRESTO ; pip install .


Then tried to run /home/emma/PULSAR_SOFTWARES/presto/tests/test_presto_python.py
Got error "libpresto.so: cannot open shared object file: No such file or directory" so I did this, according to  https://summerpulsar.wordpress.com/2015/01/12/more-presto-installation/
	cd lib
	sudo cp libpresto.so /usr/lib



In Python, my kernel was crashing completely, for the following tests in test_presto_python.py (errors next to them):
- Reading / Writing infiles [no error came out]
- Allocation and freeing of memory [double free or corruption (out)]
- Spectral power and spectral phase [double free or corruption (out)]
- Tempo get baryv [Fortran runtime error: Bad value during floating point read]
The rest of the test_presto_python.py script was working fine.


Those are all Fortran errors. For all of them "Aborted (core dumped)"
Using TEMPO on its own, I ran into the same problems. (See fold_test_README.txt)
So I could have a problem with Fortran on my computer.

Rest of what I tried in PRESTO from command line was working fine. 
Seems to happen to someone else, could also be an anaconda problem: https://github.com/scottransom/presto/issues/73


Things tried:
tried installing nvidia-cuda-dev and libcuda-340 (then undone)
tried adding a pyslalib so file to my LIB path (then undone)
ran pyslalib test which came out OK 'python test/test_slalib.py' in PULSAR_SOFTWARES/pyslalib




